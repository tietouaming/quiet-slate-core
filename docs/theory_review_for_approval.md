# 理论修正建议（请你审核后再改）

以下是我根据你的 `260113.pptx`、`Kovacevic` 论文和你的 `docx` 推导后，建议你先审核的修正项。  
我已经把这些做成“可切换参数”，默认保持保守实现，不会擅自改你理论立场。

## 1. 关于 `h(phi)` 乘在孪晶梯度能上的处理

你在 PPT 中指出：

- 若不乘 `h(phi)`，被腐蚀区仍残留孪晶梯度能，不物理；
- 若乘 `h(phi)`，对 `phi` 变分会出现“孪晶梯度能驱动腐蚀”的项，文献证据不足。

建议：

- **保留**孪晶梯度能项写成 `h(phi) * (kappa_eta/2)|∇eta|^2`（保证全腐蚀后能量消失）；
- 默认将该项对腐蚀方程的反向驱动设为 **关闭**（`include_twin_grad_term_in_phi_variation: false`），
  仅在你确认后再开启“全变分”版本。

## 2. 力学耦合进入腐蚀控制方程的路径

Kovacevic 论文中对腐蚀相场方程采用了：

- 通过界面迁移率 `L` 引入机械放大：
  `L/L0 = (eps_p/eps_y + 1) * exp(sigma_h*Vm/(RT))`
- 且在 `phi` 的变分项里可选择忽略机械能对 `phi` 的显式导数。

建议：

- 默认采用上述 **mobility-only** 路径（当前代码就是这样）；
- 仅当你明确希望“严格全变分”时，再开启 `include_mech_term_in_phi_variation: true`。

## 3. 晶体塑性-孪晶部分的二维化假设

你的原始理论是更完整的晶体学表达，当前 2D 算例为了数值可跑采用了：

- 12 滑移系二维投影（基面3、柱面3、锥面6）；
- 孪晶区滑移系通过固定旋转角（约 86.3°）近似；
- 弹性目前使用了等效各向同性（Lamé 常数），并保留后续切换各向异性接口。

建议：

- 该近似适合先做“尖锐缺口-耦合腐蚀”效率验证；
- 若你审核后要求严格晶体各向异性刚度 + 完整取向张量映射，我再按你的公式版本替换。

## 4. 机器学习加速策略

当前已实现：

- `predictor-corrector`：间隔步用 surrogate 预测，中间步可减少昂贵物理求解；
- 可通过 `rollout_every` 控制精度/速度。

建议：

- 先用纯物理生成一批快照训练 surrogate；
- 再启用 ML 并做误差-速度评估（已提供 benchmark 脚本）。

---

如果你同意以上 1~4 的默认策略，我会继续把“各向异性弹性 + 更严格滑移系晶体几何”作为下一阶段增强。  
